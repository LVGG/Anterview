# 请你描述TCP三次握手与四次挥手的过程与意义

**TCP三次握手**用于建立连接：

1. 客户端发送一个带 SYN 标志的数据包给服务器，请求建立连接。
2. 服务器收到后，回复一个带有 SYN 和 ACK 标志的数据包，表示接收到了客户端的请求并同意建立连接。
3. 客户端再发送一个带 ACK 标志的数据包，确认连接建立成功。

意义：三次握手确保双方都具备发送和接收能力，防止服务器错误打开连接（例如旧连接请求的重传包导致的误连接）。

**TCP四次挥手**用于断开连接：

1. 客户端发送一个带 FIN 标志的数据包，表示要关闭连接。
2. 服务器收到后，回复一个 ACK 数据包，表示收到了客户端的关闭请求。
3. 服务器处理完数据后，再发送一个带 FIN 标志的数据包，表示也要关闭连接。
4. 客户端收到后，回复一个 ACK，连接正式关闭。

意义：四次挥手确保双方数据都传输完毕，优雅关闭连接，避免数据丢失。客户端最后的 ACK 会等待一段时间（TIME_WAIT），确保服务器能收到确认包。





# 谈谈你对TCP与UDP的区别是什么的理解

TCP 和 UDP 是两种常见的传输层协议，它们的区别主要有以下几点：

1. **连接方式不同**：  
   - TCP 是面向连接的，需要三次握手建立连接，保证通信可靠。  
   - UDP 是无连接的，发送前不建立连接，通信不可靠，但开销小。

2. **可靠性**：  
   - TCP 保证数据完整、顺序一致、无丢包，通过重传机制实现可靠传输。  
   - UDP 不保证可靠性，可能丢包、乱序、重复，适用于对实时性要求高的场景。

3. **传输效率**：  
   - TCP 因为要保证可靠性、顺序和拥塞控制，效率相对较低。  
   - UDP 结构简单，没有握手和确认机制，传输效率更高。

4. **应用场景**：  
   - TCP 适合传输对完整性要求高的应用，如网页浏览、文件传输、邮件等。  
   - UDP 适合实时性要求高的场景，如视频直播、语音通话、在线游戏等。

5. **报文结构**：  
   - TCP 报文头部较大，最小 20 字节。  
   - UDP 报文头部小，只有 8 字节，适合小数据量高频通信。

总结：TCP 更安全稳定，UDP 更轻便高效。选择哪个协议，取决于应用对可靠性和实时性的需求。





# 谈谈你对Http与Https的关系理解
HTTP 是超文本传输协议，数据以明文形式传输，容易被中间人窃听或篡改。HTTPS 是在 HTTP 基础上加了一层 SSL/TLS 加密协议，用来实现安全通信。

两者的关系可以理解为：**HTTPS = HTTP + 加密（SSL/TLS）**。

具体区别：

1. **安全性**：HTTPS 提供了数据加密、身份认证和数据完整性保障，而 HTTP 没有安全机制。

2. **端口不同**：HTTP 默认使用 80 端口，HTTPS 使用 443 端口。

3. **证书机制**：HTTPS 需要申请数字证书，由权威机构签发，验证网站身份。

4. **资源消耗**：HTTPS 因为加解密操作，性能开销比 HTTP 略大，但现代硬件下影响很小。

总结：HTTPS 是更安全的 HTTP，适用于所有需要保护隐私或防篡改的场景，如支付、登录、传输敏感信息等。现在越来越多的网站都强制使用 HTTPS。






# SSL握手的过程都经历过什么
SSL（或其后继协议 TLS）握手过程主要包括以下几个步骤，用来在客户端和服务器之间建立一个安全的通信通道：

1. **客户端 Hello**  
   客户端发起连接请求，发送：
   - 支持的 SSL/TLS 协议版本
   - 支持的加密算法列表（Cipher Suites）
   - 随机数（Client Random）
   - 会话 ID、压缩方法等信息

2. **服务器 Hello**  
   服务器回应客户端，发送：
   - 选择使用的 SSL/TLS 协议版本
   - 选择的加密算法
   - 随机数（Server Random）
   - 服务器的数字证书（包含公钥）
   - 可选的会话 ID、压缩方法

3. **客户端验证服务器证书**  
   客户端使用 CA 根证书验证服务器提供的证书是否合法（未过期、未被吊销、颁发者可信等）。

4. **生成 Pre-Master Key**  
   客户端生成一个随机的 Pre-Master Key（预主密钥），并用服务器的公钥加密后发送给服务器。

5. **服务器用私钥解密 Pre-Master Key**  
   得到 Pre-Master Key 后，客户端和服务器根据前面交换的随机数（Client Random 和 Server Random）和 Pre-Master Key，一起生成相同的对称加密密钥（Session Key）。

6. **双方完成握手确认**  
   - 客户端和服务器互相发送 Finished 消息，表示后续将使用协商好的密钥加密通信内容。
   - 从这一步开始，通信进入加密通道。

这个握手过程的目标是：**协商出一个安全的对称密钥，同时确保身份可信、通信内容不可被窃取和篡改**。





# 谈谈你对Http的post与get请求区别的理解

HTTP 的 GET 和 POST 请求主要区别如下：

1. **传参方式不同**：  
   - GET：参数通过 URL 传递，放在 `?` 后面，例如 `/search?q=abc`，可直接看到。  
   - POST：参数放在请求体中，URL 不会变化，用户不可见。

2. **安全性**：  
   - GET 参数暴露在 URL 中，容易被缓存、记录，不适合传输敏感信息。  
   - POST 相对安全，信息不会出现在 URL，但本质上还是明文（除非用 HTTPS）。

3. **长度限制**：  
   - GET 请求 URL 有长度限制（因浏览器和服务器限制），适合少量参数。  
   - POST 无严格限制，适合传大量数据，比如文件上传。

4. **幂等性**：  
   - GET 是幂等的，多次请求结果相同，不应对服务器资源产生影响。  
   - POST 不是幂等的，每次请求都可能导致资源变化（如提交表单）。

5. **使用场景**：  
   - GET 适合获取数据，比如查询、展示页面内容。  
   - POST 用于提交数据，比如登录、注册、提交表单等。

总结：GET 更简单高效，POST 更安全灵活，选择哪个取决于请求的目的和数据敏感程度。






# 断点续传原理
断点续传的原理是：**在中断后，从上次已下载的部分继续下载，而不是从头开始**，主要依赖于 HTTP 协议中的 `Range` 头字段。

### 核心机制：

1. **客户端记录下载进度**：  
   比如文件已下载到 1MB，客户端保存这个偏移量。

2. **重新发起请求时携带 Range 头**：  
   发送请求时加上 `Range: bytes=1048576-` 表示从第 1MB（字节 1048576）开始请求剩下的内容。

3. **服务器支持分段下载（断点续传）**：  
   如果服务器支持，会返回 `206 Partial Content` 响应，只传回指定范围内的数据。

4. **客户端拼接数据**：  
   将新获取的数据追加到原文件，最终恢复成完整文件。

### 条件：

- 服务器必须支持 `Range` 请求头。
- 客户端需保存已下载的部分和偏移量。
- 适用于大文件下载、网络不稳定场景。

这种机制常用于下载工具、视频点播、APK 下载等。





# 如何保证下载文件的完整性

为了保证下载文件的完整性，常见的方法有以下几种：

1. **使用哈希校验（最常用）**  
   - 下载完成后，对文件进行哈希计算（如 MD5、SHA-1、SHA-256）。  
   - 与服务器提供的哈希值比对，确保文件内容未被篡改或损坏。

2. **断点续传时校验每一块数据**  
   - 每个分块可单独计算哈希（如分块 SHA-256），校验无误后再写入文件。  
   - 避免因断点下载中断造成的局部数据错误。

3. **使用 HTTPS 下载**  
   - 确保传输过程中不会被中间人篡改，保障内容完整性和来源真实性。

4. **文件大小校验**  
   - 下载前服务器提供文件总大小，下载后进行比对，确认字节数一致。

5. **数字签名（安全性更高）**  
   - 文件附带数字签名，客户端用公钥验证签名是否匹配，防止被篡改。

总结：最常用的是**哈希校验 + HTTPS + 文件大小对比**，这些手段结合起来基本能保障下载文件的完整性与安全性。







